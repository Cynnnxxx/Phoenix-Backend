const { MessageEmbed } = require("discord.js");const User = require("../../../model/user.js");module.exports = {    commandInfo: {        name: "checkplayers",        description: "Shows how many players are currently online."    },    execute: async (interaction) => {        await interaction.deferReply({ ephemeral: false });        try {            const onlinePlayers = global.Clients && Array.isArray(global.Clients) ? global.Clients : [];            const playerCount = onlinePlayers.length;            const playerNames = onlinePlayers.map(client => client.displayName || "Unknown").filter(name => name !== "Unknown");            const embed = new MessageEmbed()                .setColor("BLUE")                .setTitle("ðŸ‘¥ Online Players")                .setDescription(`**${playerCount}** player${playerCount !== 1 ? 's' : ''} currently online`)                .setTimestamp()                .setFooter({                    text: "Vortyx",                    iconURL: "https://i.imgur.com/VKPcwAJ.png"                });            if (playerCount > 0) {                if (playerCount <= 20) {                    const playerList = playerNames.length > 0                         ? playerNames.map((name, index) => `${index + 1}. ${name}`).join("\n")                        : "Players are online but names are not available.";                    embed.addField("Player List", playerList || "No player names available", false);                } else {                    const first20 = playerNames.slice(0, 20).map((name, index) => `${index + 1}. ${name}`).join("\n");                    embed.addField("Player List (First 20)", first20, false);                    embed.addField("Note", `... and ${playerCount - 20} more player${playerCount - 20 !== 1 ? 's' : ''}`, false);                }            } else {                embed.setDescription("**0** players currently online\n\nThe server is empty right now.");            }            await interaction.editReply({ embeds: [embed] });        } catch (error) {            console.error("Error in checkplayers command:", error);            interaction.editReply({ content: "An error occurred while checking online players. Please try again later.", ephemeral: true });        }    }}